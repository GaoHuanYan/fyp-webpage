{"ast":null,"code":"var _jsxFileName = \"/Users/edig/Downloads/stockcode/frontend/src/components/StockList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './StockList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StockList() {\n  _s();\n  const [stocks, setStocks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // --- 调试点 1 ---\n  console.log('1. StockList component is rendering. Current state:', {\n    loading,\n    error,\n    stocks\n  });\n  useEffect(() => {\n    // --- 调试点 2 ---\n    console.log('2. useEffect hook is running.');\n    const fetchStocks = async () => {\n      try {\n        // --- 调试点 3 ---\n        console.log('3. Attempting to fetch data from /api/stocks');\n        const response = await fetch('/api/stocks');\n\n        // --- 调试点 4 ---\n        console.log('4. Received response from API:', response);\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        // --- 调试点 5 (最关键) ---\n        console.log('5. Parsed data from response:', data);\n        setStocks(data);\n        // --- 调试点 6 ---\n        console.log('6. State updated with new stocks.');\n      } catch (e) {\n        console.error(\"Fetch error:\", e);\n        setError(e.message);\n      } finally {\n        setLoading(false);\n        // --- 调试点 7 ---\n        console.log('7. Loading set to false.');\n      }\n    };\n    fetchStocks();\n  }, []); // 空依赖数组确保只运行一次\n\n  if (loading) {\n    // --- 调试点 8 ---\n    console.log('8. Rendering: Loading state');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\u6B63\\u5728\\u52A0\\u8F7D\\u80A1\\u7968\\u5217\\u8868...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    // --- 调试点 9 ---\n    console.log('9. Rendering: Error state');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [\"\\u52A0\\u8F7D\\u5931\\u8D25: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 16\n    }, this);\n  }\n\n  // --- 调试点 10 ---\n  console.log('10. Rendering: Success state with stocks:', stocks);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stock-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u80A1\\u7968\\u5217\\u8868\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"stock-list\",\n      children: stocks.map(ticker => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"stock-item\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/stocks/${ticker}`,\n          children: ticker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this)\n      }, ticker, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n_s(StockList, \"ELrlRhPQhT5HFhj6gHMENFJ+S0I=\");\n_c = StockList;\nexport default StockList;\nvar _c;\n$RefreshReg$(_c, \"StockList\");","map":{"version":3,"names":["React","useState","useEffect","Link","jsxDEV","_jsxDEV","StockList","_s","stocks","setStocks","loading","setLoading","error","setError","console","log","fetchStocks","response","fetch","ok","Error","status","data","json","e","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","ticker","to","_c","$RefreshReg$"],"sources":["/Users/edig/Downloads/stockcode/frontend/src/components/StockList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './StockList.css';\n\nfunction StockList() {\n    const [stocks, setStocks] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    // --- 调试点 1 ---\n    console.log('1. StockList component is rendering. Current state:', { loading, error, stocks });\n\n    useEffect(() => {\n        // --- 调试点 2 ---\n        console.log('2. useEffect hook is running.');\n\n        const fetchStocks = async () => {\n            try {\n                // --- 调试点 3 ---\n                console.log('3. Attempting to fetch data from /api/stocks');\n                const response = await fetch('/api/stocks');\n                \n                // --- 调试点 4 ---\n                console.log('4. Received response from API:', response);\n\n                if (!response.ok) {\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n\n                const data = await response.json();\n                \n                // --- 调试点 5 (最关键) ---\n                console.log('5. Parsed data from response:', data);\n\n                setStocks(data);\n                // --- 调试点 6 ---\n                console.log('6. State updated with new stocks.');\n\n            } catch (e) {\n                console.error(\"Fetch error:\", e);\n                setError(e.message);\n            } finally {\n                setLoading(false);\n                // --- 调试点 7 ---\n                console.log('7. Loading set to false.');\n            }\n        };\n\n        fetchStocks();\n    }, []); // 空依赖数组确保只运行一次\n\n    if (loading) {\n        // --- 调试点 8 ---\n        console.log('8. Rendering: Loading state');\n        return <div className=\"loading\">正在加载股票列表...</div>;\n    }\n\n    if (error) {\n        // --- 调试点 9 ---\n        console.log('9. Rendering: Error state');\n        return <div className=\"error\">加载失败: {error}</div>;\n    }\n    \n    // --- 调试点 10 ---\n    console.log('10. Rendering: Success state with stocks:', stocks);\n\n    return (\n        <div className=\"stock-list-container\">\n            <h1>股票列表</h1>\n            <ul className=\"stock-list\">\n                {stocks.map(ticker => (\n                    <li key={ticker} className=\"stock-item\">\n                        <Link to={`/stocks/${ticker}`}>\n                            {ticker}\n                        </Link>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default StockList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}